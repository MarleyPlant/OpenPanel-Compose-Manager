<!-- traceroute.html -->

<!-- 
HTML comments are visible only when dev_mode is enabled
https://dev.openpanel.com/cli/config.html#dev-mode
-->


<!-- remove this extends line if you do NOT want the page to have OpenPanel UI header, sidebar, footer.. -->
{% extends 'base.html' %}

{% block content %}


<div
    class="border-b flex flex-col border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-950 p-4 sm:p-6 lg:p-8 sm:flex-row sm:items-center sm:justify-between">
    <div>
        <div class="flex items-center gap-x-3">
            <a href="../.."
                class="text-lg font-semibold text-gray-400 dark:text-gray-500 hover:text-gray-900 dark:hover:text-gray-50">Docker
                Compose</a>
            <span class="text-gray-400 dark:text-gray-500">/</span>
            <h1 class="text-lg font-semibold text-gray-900 dark:text-gray-50">Edit Stack: My Media Server</h1>
        </div>
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-500">Modify the Compose file, manage environment
            variables, and control your stack.</p>
    </div>
    <div class="mt-4 flex gap-3 sm:mt-0 sm:flex-shrink-0 sm:items-center">
        <button type="button"
            class="inline-flex items-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600">Delete
            Stack</button>
        <button type="button"
            class="inline-flex items-center rounded-md bg-yellow-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-yellow-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-yellow-500">Stop
            Stack</button>
        <button type="button"
            class="inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600">Deploy/Update
            Stack</button>
    </div>
</div>
<div class="p-4 sm:p-6 lg:p-8">
    <form action="#" method="POST">
        <div class="grid grid-cols-1 gap-6 lg:grid-cols-3">
<div
                    class="bg-white dark:bg-gray-900 shadow-sm ring-1 ring-gray-900/5 dark:ring-gray-800 sm:rounded-xl">
                    <div class="p-6">
                        <h3 class="text-base font-semibold leading-6 text-gray-900 dark:text-gray-50">Stack
                            Details</h3>
                        <div class="mt-4 space-y-4">
                            <div>
                                <label for="stack-label"
                                    class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200">Stack
                                    Label</label>
                                <div class="mt-1">
                                    <input type="text" name="stack_label" id="stack-label"
                                        class="block w-full rounded-md border-0 bg-gray-50 dark:bg-gray-800 py-1.5 text-gray-900 dark:text-gray-50 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"
                                        value="My Media Server">
                                </div>
                            </div>


                            <div>
                                <label for="project-domain"
                                    class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200">Domain</label>
                                <div class="mt-1">
                                    <select name="stack_name" id="project-domain"
                                        class="block w-full rounded-md border-0 bg-gray-50 dark:bg-gray-800 py-1.5 text-gray-900 dark:text-gray-50 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"
                                        value="mymediaserver" >

                                        {% for domain in domains %}
                                            <option value="{{ domain }}">{{ domain.domain_url }}</option>
                                        {% endfor %}
                                    </select>
                                    <select name="stack_domain" id="project-domain"
                                        class="block w-full rounded-md border-0 bg-gray-50 dark:bg-gray-800 py-1.5 text-gray-900 dark:text-gray-50 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"
                                        value="mymediaserver" >

                                        {% for service in services %}
                                            <option value="{{ service }}">{{ service.label }}</option>
                                        {% endfor %}
                                    </select>
                                    <select name="stack_port" id="project-domain"
                                        class="block w-full rounded-md border-0 bg-gray-50 dark:bg-gray-800 py-1.5 text-gray-900 dark:text-gray-50 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"
                                        value="mymediaserver" >

                                        {% for port in ports %}
                                            <option value="{{ port }}">{{ port }}</option>
                                        {% endfor %}
                                    </select>

                                </div>
                            </div>

                            <div>
                                <h4 class="block text-sm font-medium text-gray-900 dark:text-gray-200">Status
                                </h4>
                                <p class="mt-1 text-sm text-gray-500">
                                    <span
                                        class="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">Running</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div
                        class="flex items-center justify-end gap-x-3 border-t border-gray-900/10 dark:border-gray-800 px-4 py-4">
                        <a href=".." type="button"
                            class="text-sm font-semibold leading-6 text-gray-900 dark:text-gray-50">Cancel</button>
                        <button type="submit"
                            class="rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600">Save
                            Changes</button>
                    </div>
                </div>
            <div class="space-y-6 lg:col-span-2 flex">
                <div
                    class="bg-white dark:bg-gray-900 shadow-sm w-full ring-1 ring-gray-900/5 dark:ring-gray-800 sm:rounded-xl">
                    <div class="p-6">
                        <label for="compose-file"
                            class="block text-base font-semibold leading-6 text-gray-900 dark:text-gray-50">Compose
                            File (docker-compose.yml)</label>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Define the services, networks, and
                            volumes for your application.</p>
                        <div class="mt-4">
                            <textarea id="compose-file" name="compose_content" rows="20"
                                class="block w-full rounded-md border-0 bg-gray-50 dark:bg-gray-800 p-4 font-mono text-sm text-gray-900 dark:text-gray-50 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-inset focus:ring-blue-600">version: '3.8'

services:
  webapp:
    image: nginx:latest
    ports:
      - "8080:80"
    volumes:
      - ./nginx/conf.d:/etc/nginx/conf.d
      - ./webapp:/var/www/html

  database:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASSWORD}
      MYSQL_DATABASE: ${DB_NAME}
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
</textarea>
                        </div>
                    </div>
                </div>
                <div
                    class="bg-white w-full dark:bg-gray-900 shadow-sm ring-1 ring-gray-900/5 dark:ring-gray-800 sm:rounded-xl">
                    <div class="p-6">
                        <label for="env-file"
                            class="block text-base font-semibold leading-6 text-gray-900 dark:text-gray-50">Environment
                            Variables (.env)</label>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Provide configuration variables for
                            your services. Use KEY=VALUE format.</p>
                        <div class="mt-4">
                            <textarea id="env-file" name="env_content" rows="10"
                                class="block w-full rounded-md border-0 bg-gray-50 dark:bg-gray-800 p-4 font-mono text-sm text-gray-900 dark:text-gray-50 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-inset focus:ring-blue-600"># Database Credentials
DB_ROOT_PASSWORD=supersecretpassword123
DB_NAME=mydatabase

# General Settings
TIMEZONE=UTC
</textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="space-y-6 lg:col-span-1">
                

                <div
                    class="bg-white dark:bg-gray-900 shadow-sm ring-1 ring-gray-900/5 dark:ring-gray-800 sm:rounded-xl">
                    <div class="p-6">
                        <h3 class="text-base font-semibold leading-6 text-gray-900 dark:text-gray-50">Services
                        </h3>
                        <ul role="list" class="divide-y divide-gray-200 dark:divide-gray-700 mt-4">
                            <li class="flex items-center justify-between gap-x-6 py-3">
                                <div class="flex min-w-0 gap-x-4">
                                    <div class="min-w-0 flex-auto">
                                        <p class="text-sm font-semibold leading-6 text-gray-900 dark:text-gray-50">
                                            webapp</p>
                                    </div>
                                </div>
                                <div class="flex shrink-0 items-center gap-x-4">
                                    <span
                                        class="inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset bg-green-50 text-green-700 ring-green-600/20">running</span>
                                    <a href="#"
                                        class="text-sm text-blue-600 hover:underline dark:text-blue-500">Logs</a>
                                </div>
                            </li>
                            <li class="flex items-center justify-between gap-x-6 py-3">
                                <div class="flex min-w-0 gap-x-4">
                                    <div class="min-w-0 flex-auto">
                                        <p class="text-sm font-semibold leading-6 text-gray-900 dark:text-gray-50">
                                            database</p>
                                    </div>
                                </div>
                                <div class="flex shrink-0 items-center gap-x-4">
                                    <span
                                        class="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10">stopped</span>
                                    <a href="#"
                                        class="text-sm text-blue-600 hover:underline dark:text-blue-500">Logs</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<!-- END page content -->

{% endblock %}