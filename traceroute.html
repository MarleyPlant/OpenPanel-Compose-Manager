<!-- traceroute.html -->

<!-- 
HTML comments are visible only when dev_mode is enabled
https://dev.openpanel.com/cli/config.html#dev-mode
-->


<!-- remove this extends line if you do NOT want the page to have OpenPanel UI header, sidebar, footer.. -->
{% extends 'base.html' %}

{% block content %}

<!-- START page header -->
<div class="border-b flex flex-col border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-950 p-4 sm:p-6 lg:p-8 sm:flex-row sm:items-center sm:justify-between">
        <div>
        <div class="flex items-center gap-x-3"><h1 class="text-lg font-semibold text-gray-900 dark:text-gray-50">{{_('Traceroute')}}</h1></div>
        
        <p class="text-sm text-gray-500 dark:text-gray-500">{{_('Trace network traffic from the server to diagnose network congestion.
')}}</p>
    </div>
    <div class="mt-2 gap-2 sm:mt-0 sm:flex">
    </div>
</div>
<!-- END page header -->

<!-- START page content -->

<div id="collapseAddNewUser">

    <div class="sm:mx-auto sm:max-w-2xl" style="display:block;">
        <form method="POST" class="mt-8" x-data="{ loading: false }" @submit="loading = true">
            <!-- all forms need to send 'csrf_token' 
            https://flask-wtf.readthedocs.io/en/0.15.x/csrf/#html-forms
            -->
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
            <div class="grid grid-cols-1 gap-4">
        
                <div class="col-span-full sm:col-span-3">
                    {{ _('Your remote IP, to perform a reverse, traceroute is %(client_ip)s. The server IP address is %(server_ip)s.', client_ip=client_ip, server_ip=server_ip) }}
                </div>
        
                <div class="col-span-full sm:col-span-3">
                    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="target">{{_('IP address or hostname')}}:</label>
                    <div class="relative w-full mt-2">
                        <input
                            type="text" name="target" placeholder="{{_('IP address or hostname')}}" required
                            class="relative block w-full appearance-none rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950" autofocus />
                        
                        <button
                            class="my-3 relative inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out disabled:pointer-events-none disabled:shadow-none outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 border-transparent text-white dark:text-white bg-blue-500 dark:bg-blue-500 hover:bg-blue-600 dark:hover:bg-blue-600 disabled:bg-blue-300 disabled:text-white disabled:dark:bg-blue-800 disabled:dark:text-blue-400"
                            type="submit"
                            :disabled="loading"
                        >
                            <template x-if="!loading">
                                <span>{{_('Trace')}}</span>
                            </template>
                            <template x-if="loading">
                                <span>{{_('Loading...')}}</span>
                            </template>
                        </button>
                    </div>
                </div>
            </div>
                
            {% if result %}
                <pre>{{ result }}</pre>
            {% endif %}
        </form>

    </div>
</div>

<!-- END page content -->

{% endblock %}
